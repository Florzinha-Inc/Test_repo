name: Auto Comment
on: [issues]
jobs:
  run:
    runs-on: ubuntu-latest
    steps:
      - uses: wow-actions/auto-comment@v1
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          issuesOpenedReactions: 'hooray'
          issuesOpenedComment: |
            ðŸ‘‹ @{{ author }}, this is the MOPs bot :basecampy:. Thank you for raising an issue!
            I'll go ahead and assign it to one of our MOPs team members and they will triage this issue and get back to you as soon as possible.
            By the way, please make sure you have given us as much context as possible.

  test:
    needs: run
    runs-on: ubuntu-latest
    steps:
      - uses: Naturalclar/issue-action@v2.0.2
        with:
          title-or-body: "both"
          parameters: '[ {"keywords": ["AMER"], "labels": ["AMER", "Triage"], "assignees": ["BrunoChester"]}, {"keywords": ["EMEA"], "labels": ["EMEA", "Triage"], "assignees": ["mike421453"]}]'
          github-token: "${{ secrets.GITHUB_TOKEN }}"

  project-card:
    needs: run
    runs-on: ubuntu-latest
    steps:
      - uses: peter-evans/create-or-update-project-card@v1
        with:
          token: ${{ secrets.PAT }}
          project-location: GitHub-MOPs
          project-name: Test-Project
          column-name: Todo
